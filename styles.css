
:root{
  --bg: #f6f7fb; --fg:#0f172a; --muted:#6b7280; --ring:#e5e7eb; --card:#fff;
  --accent:#6f8ef6; --radius:12px;
  --shadow-soft: 0 6px 28px rgba(0,0,0,.08);
}
html[data-theme="dark"]{
  --bg:#0b0f1a; --fg:#e5e7eb; --muted:#a1a1aa; --ring:#1f2937; --card:#0f172a;
  --accent:#7aa2ff; --shadow-soft: 0 8px 30px rgba(0,0,0,.5);
}
*{box-sizing:border-box}
body{margin:0;font:16px/1.45 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji'; background:var(--bg); color:var(--fg);}
.wrap{max-width:1100px;margin:0 auto;padding:28px 22px 60px}

.controls{margin-bottom:18px}
.level-picker{
  display:grid;
  grid-template-columns: 1fr max-content;
  grid-template-areas:
    "slider toggle"
    "marks  marks";
  align-items:center;
  column-gap:18px;
}
/* ----- Slider (robust cross-browser) ----- */
.level{ grid-area:slider; width:100%; min-width:0; margin:0; height:8px;
  -webkit-appearance:none; appearance:none; background:transparent; outline:none; }
.level::-webkit-slider-runnable-track{
  height:8px; border-radius:999px;
  background: linear-gradient(90deg,
    var(--accent) 0%,
    var(--accent) var(--fill,0%),
    color-mix(in lab, var(--muted), transparent 36%) var(--fill,0%),
    color-mix(in lab, var(--muted), transparent 36%) 100%);
}
.level::-webkit-slider-thumb{
  -webkit-appearance:none; width:22px; height:22px; border-radius:50%;
  background:var(--accent); border:2px solid color-mix(in lab, white 72%, var(--accent));
  box-shadow:0 2px 6px rgba(0,0,0,.25); margin-top:-7px; cursor:pointer;
}
/* Firefox */
.level::-moz-range-track{ height:8px; border-radius:999px; background:color-mix(in lab, var(--muted), transparent 36%); }
.level::-moz-range-progress{ height:8px; border-radius:999px; background:var(--accent); }
.level::-moz-range-thumb{ width:22px; height:22px; border-radius:50%; background:var(--accent);
  border:2px solid color-mix(in lab, white 72%, var(--accent)); box-shadow:0 2px 6px rgba(0,0,0,.25); cursor:pointer; }
/* Disabled (All levels) */
.level:disabled{ cursor:not-allowed; opacity:.6; }
.level:disabled::-webkit-slider-thumb{ width:0;height:0;border:0;margin:0;opacity:0;box-shadow:none; }
.level:disabled::-moz-range-thumb{ width:0;height:0;border:0;opacity:0;box-shadow:none; }
.level:disabled::-webkit-slider-runnable-track{ background:color-mix(in lab, var(--muted), transparent 36%); }
.level:disabled::-moz-range-progress{ background:transparent; }

/* Marks */
.marks{ grid-area:marks; margin-top:10px; display:grid; grid-template-columns:repeat(6,1fr); color:var(--muted); font-size:14px; }

/* Toggle */
.toggle{ display:inline-flex; align-items:center; gap:10px; border:1px solid var(--ring); border-radius:999px; padding:0 14px; height:36px; background:var(--card); box-shadow:0 1px 2px rgba(0,0,0,.06); }
.toggle input{ appearance:none; width:18px; height:18px; border:1.5px solid var(--ring); border-radius:6px; background:var(--card); display:inline-block; position:relative; margin:0; }
.toggle input::after{ content:""; position:absolute; inset:3.5px; border-radius:3px; background:transparent; }
.toggle input:checked::after{ background:var(--accent); }
.toggle span{ font-weight:600; color:var(--fg); }

/* Toolbar */
.toolbar{ display:flex; gap:14px; justify-content:center; margin-top:18px; }
.btn,.dd-trigger{ display:inline-flex; align-items:center; justify-content:center; gap:8px; height:38px; padding:0 16px; border-radius:12px; border:1px solid var(--ring); background:var(--card); box-shadow:0 1px 2px rgba(0,0,0,.06); font-weight:600; }
.btn:hover,.dd-trigger:hover{ box-shadow:0 2px 5px rgba(0,0,0,.1); }
.dd-menu{ position:absolute; margin-top:8px; background:var(--card); border:1px solid var(--ring); border-radius:12px; padding:6px; box-shadow:var(--shadow-soft); display:none; }
.dropdown.open .dd-menu{ display:block; }
.dd-option{ padding:8px 10px; border-radius:8px; cursor:pointer; }
.dd-option:hover{ background:color-mix(in lab, var(--accent) 12%, transparent); }

/* Cards */
.list{ margin-top:16px; display:flex; flex-direction:column; gap:18px; }
.card{ background:var(--card); border-radius:16px; box-shadow:var(--shadow-soft); padding:18px 18px 14px; }
.term{ font-size:1.25rem; font-weight:800; display:flex; align-items:center; justify-content:space-between; gap:12px; }
.badges{ display:inline-flex; gap:6px; }
.badge{ font-size:12px; padding:4px 8px; border-radius:999px; border:1px solid var(--ring); color:var(--muted); }
.meta{ margin-top:8px; font-size:14px; color:var(--muted); }
.meta a{ color:inherit; text-decoration:none; border-bottom:1px solid currentColor; }
.meta a + a{ margin-left:14px; }


/* v26: toggle moved into toolbar */
.level-picker{
  display:grid;
  grid-template-columns: 1fr;
  grid-template-areas:
    "slider"
    "marks";
  row-gap: 10px;
}
.level-picker .level{ grid-area: slider; }
.level-picker .marks{ grid-area: marks; }

/* toolbar layout with the new toggle */
.toolbar{ display:flex; gap:14px; justify-content:center; align-items:center; flex-wrap:wrap; }
